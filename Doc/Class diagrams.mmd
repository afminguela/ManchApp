---
config:
  layout: dagre
---
classDiagram
%% Clase abstracta Material
    class Material {
        <<abstract>>
        -Long id
        -String nombre
        -String descripcion
        -boolean delicado
        -LocalDateTime fechaCreacion
        +getId() Long
        +getNombre() String
        +getDescripcion() String
        +isDelicado() boolean
    }
    class Tela {
        -String tipoFibra
        -boolean lavableMaquina
        -String cuidadosEspeciales
        -int temperaturaMaxima
        -boolean permeabilidad
        +getTipoFibra() String
        +isLavableMaquina() boolean
        +getCuidadosEspeciales() String
        +getTemperaturaMaxima() int
        -isPermeabilidad() boolean
    }
    class Superficie {
        -String tipoSuperficie
        -boolean resistenteAgua
        -String acabado
        -boolean poroso
        +getTipoSuperficie() String
        +isResistenteAgua() boolean
        +getAcabado() String
        +isPoroso() boolean
    }
%% Clase abstracta Sustancia
    class Sustancia {
        <<abstract>>
        -Long id
        -String nombre
        -String descripcion
        -String tipoSustancia
        -String color
        -boolean toxico
        -Nivel peligrosidad
        -LocalDateTime fechaCreacion
        +getId() Long
        +getNombre() String
        +getDescripcion() String
    }
    class TipoMancha {
        -String categoriaMancha
        -String origenMancha
        -String dificultadLimpieza
        -boolean seFijaConCalor
        -boolean urgente
        +getCategoria() String
        +getDificultad() String
        +isUrgente() boolean
    }
    class Ingrediente {
        -String tipoIngrediente
        -String propiedades
        -double phIngrediente
        -boolean disponibleSupermercado
        +getPhIngrediente() double

        +getTipoIngrediente() String
        +getPropiedades() String
    }
    class SolucionLimpieza {
        -Long id
        -String titulo
        -String instrucciones
        -Integer tiempoMinutos
        -String dificultad
        -Integer efectividad
        -String advertencias
        -String consejos
        -boolean casero
        -LocalDateTime fechaCreacion
        +getId() Long
        +getTitulo() String
        +getInstrucciones() String
        +getEfectividad() Integer
        +isCasero() boolean
    }
    class Persona {
        -Long id
        -String nombre
        -String apellidos
        -String email
        -String username
        -String password
        +getUsername() String
        +getEmail() String
    }
    class UsuarioBase {
        -boolean activo
        -boolean premium
        -LocalDateTime fechaRegistro
        +isActivo() boolean
        +isPremium() boolean

    }
    class Administrador {
        List<String> permisos
        -boolean superAdmin
        +isSuperAdmin() boolean
        +permisosAvanzados: boolean
    }

    class SolucionFavorita {
        -Long id
        -String notas
        -LocalDateTime fechaGuardado
        -boolean probado
        -Integer valoracion
        +getId() Long
        +getNotas() String
        +isProbado() boolean
        +getValoracion() Integer
    }
    class Categoria {
        -Long id
        -String nombre
        -String descripcion
        -String icono
        -String color
        +getId() Long
        +getNombre() String
    }

%% Herencias
    Material <|-- Tela
    Material <|-- Superficie
    Sustancia <|-- TipoMancha
    Sustancia <|-- Ingrediente
    Persona <|-- UsuarioBase
    Persona<|-- Administrador



%% Notas
    note for Material "Clase base para Tela y Superficie (JOINED)"
    note for Sustancia "Clase abstracta común para manchas e ingredientes"
    note for SolucionLimpieza "Incluye pasos, ingredientes y advertencias"
    note for UsuarioBase "Jerarquía de usuarios: Usuario y Admin"
    note for Sustancia "JOINED Strategy - Padre de TipoMancha e Ingrediente"
    note for Material "JOINED Strategy - Padre de Tela y Superficie"
    note for SolucionLimpieza "Una solución sirve para múltiples manchas y materiales"
    note for TipoMancha "Ejemplo: 'Vino Tinto' puede tener 5 soluciones diferentes"
    note for Material "Ejemplo: 'Algodón' puede tener soluciones para 10 tipos de mancha"
    note for Ingrediente "Ejemplo: 'Bicarbonato' se usa en múltiples soluciones"
